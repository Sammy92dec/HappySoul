{% load static %}

<!-- Url created so that it can be used in "If statments"-->
{% url 'home' as home %}
{% url 'recepies' as about_url %}
{% url 'about' as about_url %}
{% url 'account_login' as login_url %}
{% url 'account_signup' as signup_url %}
{% url 'account_logout' as logout_url %}


<header>
  {% with request.resolver_match.url_name as url_name %}
   <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container-fluid">
         <!-- Logo -->
         <a class="navbar-brand" href="#"><img src="{% static 'favicon/logo.png' %}" alt="Recipe Sharing" class="logo"></a>
         <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
         <span class="navbar-toggler-icon"></span>
         </button>
         <!-- Navigation items -->
         <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto mb-2" >
               <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="{% url 'home' %}">Home</a>
               </li>
               <li class="nav-item">
                  <a class="nav-link" href="#">Recepies</a>
               </li>
               <li class="nav-item">
                  <a class="nav-link " href="#">About Us</a>
               </li>
            </ul>

            <!-- Authentcation --> 

             {% if user.is_authenticated %}
                    <li class="nav-item active form"> 
                        <a class="nav-link {% if request.path == logout_url %}active{% endif %}" aria-current="page" 
                        href="{% url 'account_logout' %}">Logout</a>
                    </li>
                    {% else %}
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == signup_url %}active{% endif %}" aria-current="page"
                            href="{% url 'account_signup' %}">Register</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == login_url %}active{% endif %}" aria-current="page" 
                        href="{% url 'account_login' %}">Login</a>
                    </li>
                    {% endif %}

                    <div class="flex-shrink-0 main-bg">
                        {% if user.is_authenticated %}
                        <p class="text-end m-3">You are logged in as {{ user }}</p>
                        {% else %}
                        <p class="text-end m-3">You are not logged in</p>
                        {% endif %}
                    </div>

            <!-- Search  -->
            <form class="d-flex">
               <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
               <button class="btn btn-outline-primary" type="submit">Search</button>
            </form>
         </div>
      </div>
   </nav>
  {% endwith %}
  
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</header>